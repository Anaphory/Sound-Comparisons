#AuthName "Restricted Area" 
#AuthType Basic 
#AuthUserFile /var/www/shk/main/.htpasswd
#AuthGroupFile /dev/null 
#require valid-user

RewriteEngine on
Options +FollowSymlinks -MultiViews

RewriteBase /shk/main/

# Rule to ignore subdirectories that are necessary:
RewriteRule ^(admin|css|export|img|js).* - [L]
# Rule to match usual requests:
RewriteCond %{QUERY_STRING} (.+)
RewriteRule ^$ - [L]
# If we've got a query, we redirect to root:
RewriteCond %{QUERY_STRING} (.+)
RewriteRule ^.+$ ?%1 [R]
# We use shortLinks if the query is empty:
RewriteCond %{QUERY_STRING} ^$
RewriteRule ^(.+)$ ?shortLink=$1 [L]

# Rules to aid searching
# FIXME figure out if searching is used/implemented/required!
#RewriteRule ^go/([^/]+)/([^/]*) ?search1=$1&search2=$2 [R,NC]
#RewriteRule ^go/([^/]*)         ?iso=$1                [R,NC]
